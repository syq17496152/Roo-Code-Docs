# 提示工程技巧

提示工程是为 Roo Code 这样的 AI 模型设计有效指令的艺术。编写良好的提示可以带来更好的结果、更少的错误和更高效的工作流程。

---

## 一般原则

*   **清晰具体：** 明确说明您希望 Roo Code 做什么。避免模糊不清。
    *   **不好：** 修复代码。
    *   **好：** 修复 `calculateTotal` 函数中导致返回错误结果的 bug。

*   **提供上下文：** 使用 [上下文引用](/basic-usage/context-mentions) 来引用特定文件、文件夹或问题。
    *   **好：** `@/src/utils.ts` 将 `calculateTotal` 函数重构为使用 async/await。

*   **分解任务：** 将复杂任务分解为更小、定义明确的步骤。

*   **给出示例：** 如果您有特定的编码风格或模式，请提供示例。

*   **指定输出格式：** 如果您需要以特定格式（例如 JSON、Markdown）输出，请在提示中说明。

*   **迭代改进：** 如果初始结果不符合预期，不要害怕修改您的提示。

---

## 思考与行动

引导 Roo Code 经历 "思考-然后-行动" 的过程通常会很有帮助：

1.  **分析：** 让 Roo Code 分析当前代码，识别问题或规划方法。
2.  **计划：**  让 Roo Code 列出完成任务的步骤。
3.  **执行：**  指示 Roo Code 逐步实施计划。
4.  **审查：**  在继续下一步之前仔细审查每一步的结果。

---

## 使用自定义指令

您可以提供自定义指令来进一步定制 Roo Code 的行为。有两种类型的自定义指令：

*   **全局自定义指令：** 适用于所有模式。
*   **模式特定的自定义指令：** 仅适用于特定模式（例如，代码、架构师、询问、调试或自定义模式）。

自定义指令会被添加到系统提示中，为 AI 模型提供持久的指导。您可以使用这些指令来：

*   强制执行编码风格指南。
*   指定首选库或框架。
*   定义项目特定的约定。
*   调整 Roo Code 的语气或个性。

有关更多详细信息，请参阅 [自定义指令](/features/custom-instructions) 部分。

---

## 处理歧义

如果您的请求含糊不清或缺乏足够的细节，Roo Code 可能会：

*   **做出假设：** 它可能会根据最佳猜测进行操作，这可能不是您想要的。
*   **提出后续问题：** 它可能会使用 `ask_followup_question` 工具来澄清您的请求。

最好从一开始就提供清晰具体的指令，以避免不必要的来回沟通。

---

## 提供反馈

如果 Roo Code 没有产生期望的结果，您可以通过以下方式提供反馈：

*   **拒绝操作：** 当 Roo Code 提出您不想要的操作时，点击 "拒绝" 按钮。
*   **提供解释：** 拒绝时，解释为什么拒绝该操作。这有助于 Roo Code 从错误中学习。
*   **重新表述请求：** 尝试重新措辞您的初始任务或提供更具体的指令。
*   **手动更正：** 如果只有几个小问题，您也可以在接受更改之前直接修改代码。

---

## 示例

**好的提示：**

> `@/src/components/Button.tsx` 将 `Button` 组件重构为使用 `useState` 钩子而不是 `useReducer` 钩子。

**差的提示：**

> 修复按钮。

**好的提示：**

> 创建一个名为 `utils.py` 的新文件，并添加一个名为 `calculate_average` 的函数，该函数接受数字列表并返回它们的平均值。

**差的提示：**

> 编写一些 Python 代码。

**好的提示：**

> `@problems` 解决当前文件中的所有错误和警告。

**差的提示：**

> 修复一切。

通过遵循这些提示，您可以编写有效的提示，充分利用 Roo Code 的功能。