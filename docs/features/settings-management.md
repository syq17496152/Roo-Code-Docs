---
title: 导入、导出和重置设置
sidebar_label: 导入/导出/重置设置
description: 管理Roo Code设置，可通过导出、导入或重置为默认值。
---

# 导入、导出和重置设置

Roo Code通过导出、导入和重置选项帮助您有效管理配置设置。这些功能可用于备份配置、与他人共享配置或按需恢复默认设置。

您可以在Roo Code设置页面底部找到这些选项（通过聊天界面的齿轮图标(<i class="codicon codicon-gear"></i>访问）。

<img src="/img/settings-management/settings-management.png" alt="导出、导入和重置按钮" width="400" />
*图片：导出、导入和重置按钮*

---

## 导出设置

点击**导出**按钮将当前Roo Code设置保存为JSON文件。

*   **导出内容**：文件包含配置的API提供者配置文件和全局设置（UI偏好、模式配置、上下文设置等）。
*   **安全警告**：导出的JSON文件包含**所有**API提供者配置文件和全局设置，包括**明文API密钥**。请视此文件为高度敏感信息，勿公开或与不可信人员共享。
*   **操作流程**：
    1.  点击**导出**。
    2.  出现文件保存对话框，默认建议文件名为`roo-code-settings.json`（通常位于`~/Documents`文件夹）。
    3.  选择位置并保存文件。

此操作可创建配置备份或用于共享的文件。

---

## 导入设置

点击**导入**按钮可从先前导出的JSON文件加载设置。

*   **操作流程**：
    1.  点击**导入**。
    2.  出现文件打开对话框，选择要导入的`roo-code-settings.json`文件。
    3.  Roo Code读取文件并验证内容，然后应用设置。
*   **合并机制**：导入设置会**合并**配置。它会添加新API配置文件并更新现有配置，但不会删除当前存在但导入文件中缺失的配置。
*   **验证机制**：仅导入符合内部模式的设置，防止配置错误。导入成功后会显示成功通知。

---

## 自动配置导入

每次启动VS Code时自动从文件导入Roo Code设置。这是跨设备同步配置或标准化团队设置的强大方式。

### 核心功能
- **无缝同步**：保持不同工作区和设备的设置一致。
- **团队标准化**：共享单个配置文件确保团队统一设置。
- **灵活路径**：支持绝对路径或相对主目录路径（如`~/Documents/roo-settings.json`）。
- **静默安全**：若文件未找到或含错误，Roo Code正常启动不阻塞工作流。

### 使用场景

**之前**：手动导出导入设置迁移设备或共享设置。
- 手动打开设置面板
- 导出当前设置到文件
- 发送文件给同事或新设备
- 手动导入文件

**使用此功能**：配置路径一次，Roo Code每次启动自动处理。

### 实现原理

VS Code启动时，Roo Code检查`roo-cline.autoImportSettingsPath`设置。若该设置包含有效配置文件路径（`.json`），则自动加载。

- 导入成功显示通知：`成功从[your-file-name.json]导入设置`。
- 若文件无效或未找到，显示非侵入性警告并使用最后已知设置启动。

### 配置方法

要在VS Code中使用此功能，请在`settings.json`文件中添加以下内容：

1.  **打开`settings.json`文件**：
    *   使用命令面板(`Ctrl/Cmd + Shift + P`)搜索"Preferences: Open User Settings (JSON)"。

2.  **添加设置**：
    *   添加`roo-cline.autoImportSettingsPath`键并指定配置文件路径。

**示例**：

*   **绝对路径（推荐）**
    ```json
    {
      "roo-cline.autoImportSettingsPath": "/Users/your-username/Documents/dev-configs/roo-code.json"
    }
    ```

*   **主目录路径**（使用`~`）
    ```json
    {
      "roo-cline.autoImportSettingsPath": "~/roo-code-settings.json"
    }
    ```

*   **禁用自动导入**：
    ```json
    {
      "roo-cline.autoImportSettingsPath": ""
    }
    ```

### 常见问题

**"文件有错误会怎样？"**
- Roo Code会显示带详细信息的警告通知，并使用最后保存的设置正常加载扩展。

**"相对路径解析位置？"**
- 出于安全和一致性，非绝对或主目录路径将相对于主目录解析。

**"如何管理团队设置？"**
- 将配置文件放在共享位置（如同步云存储或共享网络驱动器），团队成员指向同一文件即可。
---

## 重置设置

点击**重置**按钮将完全清除所有Roo Code配置数据并恢复默认状态。此操作具有破坏性，用于故障排除或重新开始。

*   **警告**：此操作**不可逆**。永久删除所有API配置（包括密钥存储）、自定义模式、全局设置和任务历史。

*   **操作流程**：
    1.  点击红色**重置**按钮。
    2.  出现确认对话框，警告操作不可逆。
    3.  点击"是"确认。

*   **重置内容**：
    *   **API提供者配置**：从设置和密钥存储中删除所有配置。
    *   **全局设置**：所有偏好（UI、模式、审批、浏览器等）恢复默认。
    *   **自定义模式**：删除所有用户定义模式。
    *   **密钥存储**：清除所有Roo Code管理的API密钥。
    *   **任务历史**：清除当前任务栈。

*   **结果**：Roo Code恢复初始状态，如同新安装，使用默认设置且无用户配置。

仅在确定要删除所有Roo Code数据或故障排除时使用此功能。建议先导出设置以便后续恢复。