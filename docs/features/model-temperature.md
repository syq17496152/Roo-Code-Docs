import KangarooIcon from '@site/src/components/KangarooIcon';

# 模型温度

温度控制AI模型输出的随机性。通过调整此设置，可以优化从精确代码生成到创意头脑风暴等不同任务的结果。温度是控制AI行为的最强大参数之一。适当的温度设置可以显著提高特定任务输出的质量和适用性。

<img src="/img/model-temperature/model-temperature.gif" alt="温度滑块调整动画演示" width="100%" />

---

## 什么是温度？

温度是一个控制AI输出随机性程度的参数（通常在0.0到2.0之间）。找到合适的平衡点很关键：较低的值使输出更专注和一致，较高的值则鼓励更多创造力和变化。对于许多编码任务，中等温度（约0.3到0.7）通常效果良好，但最佳设置取决于您的具体需求。

:::info 温度与代码的常见误解
温度控制输出随机性，而非代码质量或准确性。关键点：

*   **低温（接近0.0）**：生成可预测、一致的代码。适用于简单任务，但可能显得重复且缺乏创造力。这并不保证*更好*的代码。
*   **高温**：增加随机性，可能导致创造性解决方案，但也可能产生更多错误或无意义的代码。这并不保证*更高质量*的代码。
*   **准确性**：代码准确性取决于模型训练和提示清晰度，而非温度。
*   **温度0.0**：适用于一致性，但限制了复杂问题所需的探索。
    ::: 

---

## Roo Code中的默认值

Roo Code对大多数模型使用默认温度0.0，以优化代码生成的确定性和精确性。这适用于OpenAI模型、Anthropic模型（非思考变体）、LM Studio模型以及大多数其他提供商。

某些模型使用较高的默认温度 - DeepSeek R1模型和某些推理优化模型默认为0.6，在确定性和创造性之间取得平衡。

具有思考能力的模型（AI展示其推理过程）需要固定温度1.0且不可更改，因为此设置确保了思考机制的最佳性能。这适用于任何启用":thinking"标志的模型。

某些特殊模型完全不支持温度调整，在这种情况下Roo Code会自动尊重这些限制。

---

## 何时调整温度

以下是一些不同任务可能适用的温度设置示例：

*   **代码模式 (0.0-0.3)**：用于编写精确、正确的代码，具有确定性和一致性结果
*   **架构模式 (0.4-0.7)**：用于平衡创造力和结构的架构或设计解决方案的头脑风暴
*   **问答模式 (0.7-1.0)**：用于解释或开放性问题，需要多样化和有见地的回答
*   **调试模式 (0.0-0.3)**：用于需要精确一致性的故障排除

这些只是起点 - 重要的是[尝试不同设置](#实验)以找到最适合您特定需求和偏好的设置。

---

## 如何调整温度

1.  **打开Roo Code面板**：点击VS Code活动栏中的Roo Code图标(<KangarooIcon />)
2.  **打开设置**：点击右上角的<Codicon name="gear" />图标
3.  **找到温度控制**：导航到提供者部分
4.  **启用自定义温度**：勾选"使用自定义温度"复选框
5.  **设置您的值**：将滑块调整到您偏好的值

    <img src="/img/model-temperature/model-temperature.png" alt="Roo Code设置面板中的温度设置" width="550" />
    *Roo Code设置面板中的温度滑块*

---

## 使用API配置文件管理温度

创建多个[API配置概要文件](/features/api-configuration-profiles)并设置不同的温度：

**创建任务专用温度概要文件的方法：**

1. 创建专用概要文件如"代码-低温"（0.1）和"问答-高温"（0.8）
2. 为每个概要文件配置适当的温度设置
3. 通过设置或聊天界面中的下拉菜单切换概要文件
4. 为每种模式设置不同概要文件作为默认值，切换模式时自动应用

这种方法在特定任务中优化模型行为而无需手动调整。

---

## 技术实现

Roo Code在实现温度处理时考虑：

*   用户自定义设置优先于默认值
*   尊重提供者的特定行为
*   强制执行模型限制：
    *   启用思考的模型需要固定温度1.0
    *   某些模型不支持温度调整

---

## 实验

尝试不同温度设置是发现最适合您需求的最佳方式：

### 有效温度测试

1. **从默认值开始** - 以Roo Code预设值（大多数任务为0.0）作为基准
2. **逐步调整** - 以小幅度（±0.1）调整值以观察细微差异
3. **持续测试** - 在不同温度设置下使用相同提示进行有效对比
4. **记录结果** - 记录哪些值对特定任务产生最佳结果
5. **创建概要文件** - 将有效设置保存为[API配置概要文件](/features/api-configuration-profiles)以便快速访问

请记住不同模型可能对相同温度值的响应不同，且启用思考的模型始终使用固定温度1.0而不受您的设置影响。

---

## 相关功能

- 支持Roo Code所有[API提供商](/providers/openai)
- 补充[自定义指令](/features/custom-instructions)以微调响应
- 与您创建的[自定义模式](/features/custom-modes)配合使用