// ... existing code ...

# 自定义指令

自定义指令允许您个性化 Roo 的行为方式，提供特定指导来塑造响应内容、编码风格和决策过程。

:::info 指令文件位置
您可以使用全局规则（适用于所有项目）、工作区规则（项目特定）或通过提示标签界面来提供自定义指令。

**全局规则目录:** 应用于所有项目。
*   **Linux/macOS:** `~/.roo/rules/` 和 `~/.roo/rules-{modeSlug}/`
*   **Windows:** `%USERPROFILE%\.roo\rules\` 和 `%USERPROFILE%\.roo\rules-{modeSlug}\`

**工作区规则:** 仅应用于当前项目，可以覆盖全局规则。
*   **推荐方法：目录方式 (`.roo/rules/`)**
    ```
    .
    ├── .roo/
    │   └── rules/          # 工作区范围的规则
    │       ├── 01-general.md
    │       └── 02-coding-style.txt
    └── ... (其他项目文件)
    ```
*   **备用方法：单个文件方式 (`.roorules`)**
    ```
    .
    ├── .roorules           # 工作区范围的规则（单个文件）
    └── ... (其他项目文件)
    ```

**模式特定指令:** 仅应用于特定模式（例如 `code`）。
*   **推荐方法：目录方式 (`.roo/rules-{modeSlug}/`)**
    ```
    .
    ├── .roo/
    │   └── rules-code/     # "code" 模式的规则
    │       ├── 01-js-style.md
    │       └── 02-ts-style.md
    └── ... (其他项目文件)
    ```
*   **备用方法：单个文件方式 (`.roorules-{modeSlug}`)**
    ```
    .
    ├── .roorules-code      # "code" 模式的规则（单个文件）
    └── ... (其他项目文件)
    ```

规则按顺序加载：首先加载全局规则，然后是工作区规则（可以覆盖全局规则）。详情请参见[全局规则目录](#global-rules-directory)。
:::

---

## 什么是自定义指令？

自定义指令定义了超出 Roo 基本角色定义的特定行为、偏好和约束。示例包括编码风格、文档标准、测试要求和工作流程指南。

// ... existing code ...

#### 可用规则目录

| 目录 | 用途 |
|-----------|---------|
| `rules/` | 应用于所有模式的一般规则 |
| `rules-code/` | Code 模式的特定规则 |
| `rules-docs-extractor/` | 文档提取器使用的规则 |
| `rules-architect/` | 系统架构任务使用的规则 |
| `rules-debug/` | 调试工作流使用的规则 |
| `rules-{mode}/` | 任何自定义模式的规则 |

// ... existing code ...

## 自定义指令示例

* "始终使用空格进行缩进，宽度为4个空格"
* "变量名使用驼峰命名法"
* "为所有新函数编写单元测试"
* "在提供代码之前先解释您的推理过程"
* "关注代码的可读性和可维护性"
* "优先使用社区中最常用的库"
* "当向网站添加新功能时，确保它们具有响应式设计和可访问性"

:::tip 小贴士：团队标准化
对于团队环境，请考虑以下方法：

**项目标准**：在版本控制下使用工作区 `.roo/rules/` 目录来标准化特定项目的 Roo 行为。这可以确保团队成员之间保持一致的代码风格和开发工作流程。

**组织标准**：使用全局规则 (`~/.roo/rules/`) 来建立适用于所有项目的组织范围编码标准。团队成员可以设置相同的全局规则以确保所有工作的统一性。

**混合方法**：将全局规则用于组织标准，将项目级工作区规则用于项目特定需求。工作区规则可以根据需要覆盖全局规则。

基于目录的方法比单一 `.roorules` 文件提供了更好的组织性，并支持全局和项目级定制。
:::

// ... existing code ...