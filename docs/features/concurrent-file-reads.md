---
sidebar_label: '多文件读取'
---

# 并发文件读取（又名多文件读取）

并发文件读取功能允许Roo一次性从您的工作区读取多个文件。当任务需要多个文件的上下文时，这显著提高了效率，因为Roo可以一次性获取所有必要信息，而不是逐个读取文件。

### 核心功能
- 单次请求可读取最多100个文件
- 默认启用以实现更快速、更流畅的工作流
- 可配置文件数限制（1-100），设置为1时禁用并发读取

---

## 优势

-   **提升速度**：通过减少来回交互步骤，加快Roo对代码的理解
-   **更佳上下文**：允许Roo构建更完整的代码模型，生成更准确的响应
-   **改进工作流**：简化需要多文件信息的任务，提高工作效率

---

## 重要性

**加快上下文构建**：以前当Roo需要理解项目时，您会看到多个请求：
- "可以读取`src/app.js`吗？" → 您批准
- "现在能读取`src/utils.js`吗？" → 您批准
- "可以读取`src/config.json`吗？" → 您批准

**使用并发读取**：Roo一次性请求读取所有相关文件，立即获取完整信息并提供更好的帮助。

---

## 工作原理

当您要求Roo执行涉及多个文件的任务时，它会自动识别相关文件并批量读取。这对以下场景特别有用：

-   理解跨多个文件拆分的组件整体结构
-   重构包含代码库其他部分依赖的代码
-   回答需要项目整体理解的问题

Roo会通过优先读取最关键文件并批量读取来高效使用此功能。[`read_file`](/advanced-usage/available-tools/read-file)工具支持单次请求读取多个文件。

当Roo请求读取多个文件时，您会看到包含以下内容的批量批准界面：

- 列出所有待读取文件
- 显示文件路径和行范围指示器
- 可点击的文件标题以在编辑器中打开
- **全部批准**和**全部拒绝**按钮用于快速决策

<img src="/img/concurrent-file-reads/concurrent-file-reads-2.png" alt="批量批准界面用于读取多个文件" width="600" />

---

## 配置

点击<Codicon name="gear" />图标进入设置的"上下文"部分可配置多文件读取功能。

<img src="/img/concurrent-file-reads/concurrent-file-reads-1.png" alt="并发文件读取设置显示限制滑块" width="600" />

1.  **并发文件读取限制**：
   *   **设置项**：`并发文件读取限制`
   *   **描述**：此设置确定Roo单次请求可读取的最大文件数。默认值为5，范围1-100。较高值可加速涉及大量小文件的任务，但会占用更多内存。设置为1时禁用并发读取功能，退化为单文件读取。